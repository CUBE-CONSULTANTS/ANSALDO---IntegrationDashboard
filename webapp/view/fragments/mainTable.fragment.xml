<c:FragmentDefinition
  xmlns="sap.m"
  xmlns:c="sap.ui.core"
  xmlns:table="sap.ui.table"
>
  <IconTabBar
    id="idIconTabBar"
    select=".onTabSelect"
    applyContentPadding="false"
    stretchContentHeight="true"
    headerBackgroundDesign="Transparent"
    visible="{main>/visibility}"
  >
    <items>
      <IconTabFilter
        showAll="true"
        text="{i18n>integ}"
        key="All"
      />
      <IconTabSeparator />
      <IconTabFilter
        icon="sap-icon://documents"    
        text="{i18n>all}"
        key="All"
      />
        <IconTabFilter
        visible="{=${filterModel>/status} === ''}"
        icon="sap-icon://accept"    
        text="{i18n>Success}"
        iconColor='Positive'
        key="Success"
      />
        <IconTabFilter
        visible="{=${filterModel>/status} === ''}"
        icon="sap-icon://message-error"
        text="{i18n>Error}"
        key="Error"
        iconColor='Negative'
      />
    </items>
    <content>
      <Table
        id="integrationTable"
        items="{
          path: 'integrationsModel>/',
          sorter: {
            path: 'ID_FLOW',
            group: true
          },
          groupHeaderFactory: '.createGroupHeader'
        }"
        backgroundDesign="Translucent"
        mode="SingleSelectMaster"
        selectionChange="onTableRowSelectionChange"
        popinLayout="Block"
        growing="true"
        growingScrollToLoad="true"
      >
        <columns>
          <Column
            minScreenWidth="Small"
            demandPopin="false"
            width="8rem"
          >
            <Text text="{i18n>IntegrationId}" />
          </Column>
          <Column
            minScreenWidth="Tablet"
            demandPopin="false"
            width="15rem"
          >
            <Text text="{i18n>Description}" />
          </Column>
          <Column
            minScreenWidth="Desktop"
            demandPopin="true"
            popinDisplay="Inline"
            width="12rem"
          >
            <Text text="{i18n>IntegrationDateTime}" />
          </Column>
          <Column
            minScreenWidth="Tablet"
            demandPopin="true"
            popinDisplay="Inline"
            width="10rem"
          >
            <Text text="{i18n>SysA}" />
          </Column>
          <Column
            minScreenWidth="Tablet"
            demandPopin="true"
            popinDisplay="Inline"
            width="10rem"
          >
            <Text text="{i18n>SysB}" />
          </Column>
          <Column
            minScreenWidth="Tablet"
            demandPopin="true"
            popinDisplay="Inline"
            width="10rem"
            hAlign="Center"
          >
            <Text text="{i18n>status}" />
          </Column>
          
        </columns>
        <items>
          <ColumnListItem >
            <cells>
              <Text text="{integrationsModel>ID_INT}" />
              <Text text="{integrationsModel>DESCRIPTION_ID_FLOW}" />
              <Text text="{
                path: 'integrationsModel>IntegrationDateTime'
              }" />
              <Text text="{integrationsModel>SYSTEM_IN}" />
              <Text text="{integrationsModel>SYSTEM_OUT}" />
              <ObjectStatus
                text="{integrationsModel>statusText}"
                state="{integrationsModel>color}"
              />
              
            </cells>
          </ColumnListItem>
        </items>
      </Table>
    </content>
  </IconTabBar>
</c:FragmentDefinition>
